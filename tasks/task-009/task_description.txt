task: Logout Idempotency and No-Content Semantics
instructions: >-
  Set up the logout so it works every time - send back a clean no-content response when done
  meaning. Keep limits clear: just that one refresh token gets canceled or
  Access tokens stay active till their time runs out.
task_description: |
  Fix /api/auth/logout so it always works the same way, no matter how many times called. Use 204 No Content as response each time instead.

  Here’s what needs to run - because we’re going to test it ourselves
  - Hitting POST /api/auth/logout using a working refresh token gives back 204 (No Content), also no data in response.
  - Hitting /logout once more using that same token just gives back 204 plus no data (it's idempotent).
  - Once you log out, using /api/auth/refresh with that token doesn't work - gives 400 or 401.
  - Other refresh tokens for the same person still work fine - none get wiped out altogether.
  Old access tokens still work till they expire - logging out just clears refresh ones.
  - Sending a broken or wrong refresh token to /logout should still give back 204 - same result every time, no matter how many times it’s tried.

  Where you’ll tweak things (spots you might edit):
  - server/src/auth/routes.js - tweak /logout to return 204, no payload, works same every time.
  - server/src/auth/service.js - make sure revokeRefresh deletes just that one token, not others.
  - server/src/utils/http.js - tool for handling empty replies (not required, though useful).

  Notes - won't affect your score
  Don't record token details. Keep answers short, plus secure.

difficulty: hard
category: Feature
tags: [node, express, auth]
parser_name: pytest
